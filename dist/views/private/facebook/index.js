const a20_0x6384d8=a20_0x5d9a;function a20_0x2676(){const _0x5e28de=['BhRcTCoeySo+W7zn','W7FdTmoDF0W','WOFdUIj/hq','hCkBoCobWROs','a8oqW5/cHG7cQqVcGuPs','WRhdMbCsbf0jp8kiWQe','ghGnW4xdTSomESowWORdIq','tIrHvq','W5jSWP7cJdnKW7nyW6W/W7jYDG','WRhdMSofWPCpiCknWReNW58','W7xdKHFcK2hcRSoiofBcOCkEW53cHJy','WRFdJSk1nSoAASoTWOVdUuu','WQNdNLWPmW','WPbApmokW7K','lmkDuCkPW4xcGspcHSka','WQxdGGX4amoAf8k8kdW','WQiXW5NcNG','kmkFwSozWRZdOYxcJCktlf8t','W6NdHaVcJ3NcSSosjHBcLW','WOJdRg9bmmkbp8kudW0','B8kvoSouWRybWRnhrG','qXRcHCoyWQ5nWPTmWPCMhG','W7JdMs4AWR0','FCodDCo3WPy0WQjOuW','WQRdHCk6WO8EB8oBWQ46W4i','hCorW5/cHa','WQxdJ8oujJ4','WOmQW4BcMYq','WQKYW4BcNmoq','WOLIlmoOW6FcNmkWamos','vNzBW5xdQSomDmotWPS','A3ZcPCovp8oGWQTkWPff','uNRcMG','sLldMCkJW6HkWOy','kmoiWPldGCoDtq','W7tcHCoPA8kviSkM','iGBcNSkDWRpcHSoW','WPlcGXpcSKSrme4','W6ddKKldTSoGna','vg/cNLhdPa','yZxdSCowW6m','lSkrjvbhdG/dTcpcPG','t2/cVSkqnmoNzg3dRmol','WP07F8kC','WRhdImkYnSoFBmoOWOZdVq8','pmkPwYJdSsq','W6fZWRldNmkf','E8osgmkzW6NcPIm','W7zCWONdPehdTeJdKt16hW/dRW','gmozWQVdSSoV','oSoDWOpdN8oxrKSYW5RdTW','W6RcHCoUFCkm','W6hdMhldGmoTFXlcS8kemG','xCoHW7VcN1aGWQNcMmoK','rCk4WRNdIqSQWOFcPCo4n8oz','WRiBW7ZcUmoK','DGddHmoOf8osm2tcIq','W6esW74xWQ9vWPhcTfT6lfXxW7W','F8kLW7BcRSk/W6Pa','u8k+o8ovrqlcNq','rtrMxG','FaRdPCoSna','WRz0WQVdPSkWw8kH','W6z1gCkdW4y','ySkzoujdffxcRtdcUW','W4qcpKtcU8kkW5xcU8koWPW','yCkLW6tcR8k9W6u','ECobFSkhW69wWQrJqmkyWO7cVa','WQ7dMCo1WPa','l8ocWPJdLSoq','W6PPb8k/W789nG','gSksWPBdVa','WRZdPmkSCSo8rhG','WPbxCmkp','sYj+zmkmhaBdRIKM','eMjaW6pdHa','WPy1W5tdM2KV','W7hdMHhcKwFcQ8k7Ev7cTmkVW6a','WOPrBCkudSkn','asZdMGtcPa1Gu0m3WQnCja','WPddQITvkSoppSkntW','mSkHW7pcVmk3W6XhWPldVq','W4JcRcHvmq','W61kW57cGCoUW70','peNdU8ofW5u','iCoXW5NcQvi','W4BdOJLrlmkbmCkrhG','WPhdUWzilG','q8kAWOJdNbtdSflcJ39VW5ZcILO','WOlcKSofE8kyd8oeWQRdMK5UvMa','W5ZcN3ddI03dTG','W6LRW6pdM8kXvSkCqxdcPa','htFdHHpcTHr+cZ5O','tCo9a8kCW54','W4BdJCkFW68','WQbpWRLTW7WhW4hdOuy','d03dOSkBW65pWRL6','WP7cICozBmkkfSoAW7lcPXe'];a20_0x2676=function(){return _0x5e28de;};return a20_0x2676();}(function(_0x4432c4,_0x5aa280){const _0x42226e=a20_0x5d9a,_0x4be6b0=_0x4432c4();while(!![]){try{const _0x2435dc=-parseInt(_0x42226e(0x1fc,'b*$h'))/0x1*(parseInt(_0x42226e(0x20b,'To0h'))/0x2)+-parseInt(_0x42226e(0x201,'ie]4'))/0x3+-parseInt(_0x42226e(0x1ee,'%)VT'))/0x4+parseInt(_0x42226e(0x216,'!bgT'))/0x5*(-parseInt(_0x42226e(0x1e2,'w9DJ'))/0x6)+-parseInt(_0x42226e(0x20d,'9701'))/0x7+-parseInt(_0x42226e(0x235,'YN1^'))/0x8*(-parseInt(_0x42226e(0x237,'ie]4'))/0x9)+parseInt(_0x42226e(0x22a,'To0h'))/0xa;if(_0x2435dc===_0x5aa280)break;else _0x4be6b0['push'](_0x4be6b0['shift']());}catch(_0x4946ea){_0x4be6b0['push'](_0x4be6b0['shift']());}}}(a20_0x2676,0x7884a));const a20_0x536191=function(){let _0x4a3959=!![];return function(_0x4ded73,_0x216fe1){const _0x56a622=a20_0x5d9a;if(_0x56a622(0x236,'fIiz')===_0x56a622(0x1d9,'%)VT')){if(_0x58835b){const _0x5765a7=_0x27d4bc[_0x56a622(0x1e5,'9701')](_0x22e132,arguments);return _0x45bfca=null,_0x5765a7;}}else{const _0x12a20e=_0x4a3959?function(){const _0x3f45ae=_0x56a622;if(_0x3f45ae(0x1fd,'tpZs')!==_0x3f45ae(0x222,'AYvg'))_0x3a04e2['json']({'status':![],'message':_0xf4128d[_0x3f45ae(0x204,'tpZs')]});else{if(_0x216fe1){if(_0x3f45ae(0x213,'!bgT')!==_0x3f45ae(0x22c,'*]UT')){const _0x7de8e9=_0x216fe1[_0x3f45ae(0x1da,'048d')](_0x4ded73,arguments);return _0x216fe1=null,_0x7de8e9;}else throw new _0xf34ccd(_0x3f45ae(0x225,'*]UT')+_0x3f45ae(0x234,'ie]4'));}}}:function(){};return _0x4a3959=![],_0x12a20e;}};}(),a20_0x37d5e9=a20_0x536191(this,function(){const _0x161442=a20_0x5d9a;return a20_0x37d5e9[_0x161442(0x21e,'YN1^')]()[_0x161442(0x1eb,'pSfq')](_0x161442(0x21f,'A8^#')+'+$')['toString']()[_0x161442(0x1e7,'HL8O')+'r'](a20_0x37d5e9)[_0x161442(0x1e0,'RBIP')](_0x161442(0x21a,'9701')+'+$');});a20_0x37d5e9();const express=require(a20_0x6384d8(0x1ed,'apF4')),{StoryAPI,GraphAPI,DashAPI}=require(a20_0x6384d8(0x210,'AYvg')),{getAccount,getCookie}=require(a20_0x6384d8(0x232,'To0h')+a20_0x6384d8(0x205,'Ow7l')),cache=require(a20_0x6384d8(0x22b,'$W8H')+a20_0x6384d8(0x1fa,'hEQs')),router=express[a20_0x6384d8(0x223,'ie]4')]();function a20_0x5d9a(_0x2efcb7,_0x33f401){const _0x545e3c=a20_0x2676();return a20_0x5d9a=function(_0x37d5e9,_0x536191){_0x37d5e9=_0x37d5e9-0x1d8;let _0x267608=_0x545e3c[_0x37d5e9];if(a20_0x5d9a['oKcHYh']===undefined){var _0x5d9aa4=function(_0x291469){const _0x5af191='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x52cb2e='',_0x145f52='',_0x5ab378=_0x52cb2e+_0x5d9aa4;for(let _0x3bfba1=0x0,_0x281242,_0x3730ca,_0x208f5c=0x0;_0x3730ca=_0x291469['charAt'](_0x208f5c++);~_0x3730ca&&(_0x281242=_0x3bfba1%0x4?_0x281242*0x40+_0x3730ca:_0x3730ca,_0x3bfba1++%0x4)?_0x52cb2e+=_0x5ab378['charCodeAt'](_0x208f5c+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x281242>>(-0x2*_0x3bfba1&0x6)):_0x3bfba1:0x0){_0x3730ca=_0x5af191['indexOf'](_0x3730ca);}for(let _0x3a0a1f=0x0,_0x501326=_0x52cb2e['length'];_0x3a0a1f<_0x501326;_0x3a0a1f++){_0x145f52+='%'+('00'+_0x52cb2e['charCodeAt'](_0x3a0a1f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x145f52);};const _0x3d104f=function(_0x5f4997,_0x81e34d){let _0x1f1f4b=[],_0x5a0318=0x0,_0x559640,_0x25c0b6='';_0x5f4997=_0x5d9aa4(_0x5f4997);let _0x1ad1c2;for(_0x1ad1c2=0x0;_0x1ad1c2<0x100;_0x1ad1c2++){_0x1f1f4b[_0x1ad1c2]=_0x1ad1c2;}for(_0x1ad1c2=0x0;_0x1ad1c2<0x100;_0x1ad1c2++){_0x5a0318=(_0x5a0318+_0x1f1f4b[_0x1ad1c2]+_0x81e34d['charCodeAt'](_0x1ad1c2%_0x81e34d['length']))%0x100,_0x559640=_0x1f1f4b[_0x1ad1c2],_0x1f1f4b[_0x1ad1c2]=_0x1f1f4b[_0x5a0318],_0x1f1f4b[_0x5a0318]=_0x559640;}_0x1ad1c2=0x0,_0x5a0318=0x0;for(let _0xbe7386=0x0;_0xbe7386<_0x5f4997['length'];_0xbe7386++){_0x1ad1c2=(_0x1ad1c2+0x1)%0x100,_0x5a0318=(_0x5a0318+_0x1f1f4b[_0x1ad1c2])%0x100,_0x559640=_0x1f1f4b[_0x1ad1c2],_0x1f1f4b[_0x1ad1c2]=_0x1f1f4b[_0x5a0318],_0x1f1f4b[_0x5a0318]=_0x559640,_0x25c0b6+=String['fromCharCode'](_0x5f4997['charCodeAt'](_0xbe7386)^_0x1f1f4b[(_0x1f1f4b[_0x1ad1c2]+_0x1f1f4b[_0x5a0318])%0x100]);}return _0x25c0b6;};a20_0x5d9a['egmNVh']=_0x3d104f,_0x2efcb7=arguments,a20_0x5d9a['oKcHYh']=!![];}const _0x5d28b5=_0x545e3c[0x0],_0x28781b=_0x37d5e9+_0x5d28b5,_0x106d5d=_0x2efcb7[_0x28781b];if(!_0x106d5d){if(a20_0x5d9a['RIQLrO']===undefined){const _0x195eb3=function(_0x5a19bb){this['jwOgiz']=_0x5a19bb,this['DEFabH']=[0x1,0x0,0x0],this['RHGyMW']=function(){return'newState';},this['cIBuyI']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['MzNjSI']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x195eb3['prototype']['tyVewf']=function(){const _0x39963b=new RegExp(this['cIBuyI']+this['MzNjSI']),_0x58a6f8=_0x39963b['test'](this['RHGyMW']['toString']())?--this['DEFabH'][0x1]:--this['DEFabH'][0x0];return this['xXgwZJ'](_0x58a6f8);},_0x195eb3['prototype']['xXgwZJ']=function(_0x4ad0a7){if(!Boolean(~_0x4ad0a7))return _0x4ad0a7;return this['fVKzKW'](this['jwOgiz']);},_0x195eb3['prototype']['fVKzKW']=function(_0x40a042){for(let _0x5bb935=0x0,_0xf8cb1f=this['DEFabH']['length'];_0x5bb935<_0xf8cb1f;_0x5bb935++){this['DEFabH']['push'](Math['round'](Math['random']())),_0xf8cb1f=this['DEFabH']['length'];}return _0x40a042(this['DEFabH'][0x0]);},new _0x195eb3(a20_0x5d9a)['tyVewf'](),a20_0x5d9a['RIQLrO']=!![];}_0x267608=a20_0x5d9a['egmNVh'](_0x267608,_0x536191),_0x2efcb7[_0x28781b]=_0x267608;}else _0x267608=_0x106d5d;return _0x267608;},a20_0x5d9a(_0x2efcb7,_0x33f401);}router['get'](a20_0x6384d8(0x1fe,'HL8O')+'oup_id/:vi'+a20_0x6384d8(0x1e4,'RwHt'),async(_0x29554a,_0x2f96bb)=>{const _0x41915a=a20_0x6384d8;try{const {video_id:_0x5340e9,group_id:_0x18a10a}=_0x29554a[_0x41915a(0x211,'XjW1')],_0x5dac8c=await getAccount(_0x18a10a);stream_url=await GraphAPI(_0x5340e9,_0x5dac8c[_0x41915a(0x203,'RBIP')]);if(stream_url){if(_0x41915a(0x221,'6@@m')===_0x41915a(0x1f5,'048d'))return _0x1cb488['toString']()['search'](_0x41915a(0x1ea,'$W8H')+'+$')[_0x41915a(0x1e3,'z%r7')]()['constructo'+'r'](_0x366490)[_0x41915a(0x200,'i2g$')]('(((.+)+)+)'+'+$');else _0x2f96bb[_0x41915a(0x202,'8fVo')]({'status':!![],'data':[{'file':stream_url,'type':_0x41915a(0x20e,'AYvg'),'label':'HD'}]});}else throw new Error(_0x41915a(0x238,'8fVo')+_0x41915a(0x1dc,'gEUw'));}catch(_0x54a4ff){if(_0x41915a(0x1ef,'RBIP')===_0x41915a(0x1ec,'b*$h'))throw new _0x4877ef(_0x41915a(0x219,'b*$h')+_0x41915a(0x1f3,'gPyR'));else _0x2f96bb[_0x41915a(0x207,'O!t[')]({'status':![],'message':_0x54a4ff[_0x41915a(0x1f8,'i2g$')]});}}),router[a20_0x6384d8(0x1de,'9701')]('/dash/:gro'+a20_0x6384d8(0x229,'8fVo')+a20_0x6384d8(0x1f2,'RwHt')+a20_0x6384d8(0x220,'Qo&]'),async(_0x56ceb8,_0x4b8365)=>{const _0x2032c2=a20_0x6384d8;try{const {video_id:_0x5485bb,group_id:_0x213620}=_0x56ceb8[_0x2032c2(0x20c,'Hdug')];KEY=_0x2032c2(0x22f,'AYvg')+':'+_0x5485bb;const _0x247c5d=await cache['get'](KEY);let _0x576aad;if(_0x247c5d)_0x2032c2(0x21b,'apF4')!==_0x2032c2(0x1e6,'ZmrB')?_0x52c02a=_0x1a8a8e:_0x576aad=_0x247c5d;else{const _0x567b33=await getCookie(_0x213620);_0x576aad=await DashAPI(_0x5485bb,_0x213620,_0x567b33['data']);if(_0x576aad)await cache[_0x2032c2(0x1f1,'$W8H')](KEY,0x2*0x3c*0x3c,_0x576aad);else{if(_0x2032c2(0x1fb,'^L@Y')!==_0x2032c2(0x212,'[Q&q'))throw new Error(_0x2032c2(0x226,'gEUw')+_0x2032c2(0x20f,'i2g$'));else _0x192151[_0x2032c2(0x227,'hEQs')]({'status':![],'message':_0x186c63[_0x2032c2(0x1e1,'$W8H')]});}}_0x4b8365[_0x2032c2(0x21d,'nnGz')](_0x2032c2(0x1ff,'7*i!')+'pe',_0x2032c2(0x1f0,'RBIP')+'n/dash+xml'),_0x4b8365[_0x2032c2(0x1f6,'^L@Y')](_0x2032c2(0x1dd,'Qo&]')+_0x2032c2(0x224,'!bgT')+'-origin','*'),_0x4b8365[_0x2032c2(0x1e9,'NH&9')](_0x576aad);}catch(_0x40d0c9){_0x2032c2(0x22d,'BH3&')!==_0x2032c2(0x1d8,'1syj')?_0x2d7389[_0x2032c2(0x239,'!bgT')]({'status':!![],'data':_0x5c1696}):_0x4b8365['json']({'status':![],'message':_0x40d0c9[_0x2032c2(0x1f9,'r5qx')]});}}),router['get'](a20_0x6384d8(0x1e8,'vSZU')+a20_0x6384d8(0x208,'hEQs')+a20_0x6384d8(0x218,'vbF6'),async(_0x711096,_0x83131a)=>{const _0x25a192=a20_0x6384d8,{video_id:_0x43f7bc,group_id:_0x4dcb2a}=_0x711096[_0x25a192(0x20a,'rtY[')];try{const _0x29d31c=await getCookie(_0x4dcb2a),_0x393336=await StoryAPI(_0x43f7bc,_0x4dcb2a,_0x29d31c['data']);if(_0x393336)_0x83131a[_0x25a192(0x21c,'8YxB')]({'status':!![],'data':_0x393336});else{if(_0x25a192(0x215,'AYvg')!=='wxIxk')_0x65d5f5[_0x25a192(0x207,'O!t[')]({'status':![],'message':_0x302084[_0x25a192(0x206,'C7rv')]});else throw new Error(_0x25a192(0x233,'AYvg')+_0x25a192(0x214,'AYvg'));}}catch(_0x4b6cb6){_0x25a192(0x209,'gEUw')==='eWLMD'?_0x37fdd4[_0x25a192(0x230,'048d')]({'status':!![],'data':[{'file':_0x587b14,'type':_0x25a192(0x1db,'BH3&'),'label':'HD'}]}):_0x83131a['json']({'status':![],'message':_0x4b6cb6['message']});}}),module['exports']=router;